# Habr InfoSec RSS Telegram Bot

Это Telegram-бот, написанный на Go, который предоставляет RSS-ленту статей с Хабра по теме информационной безопасности.

## Функциональность

- Получает последние статьи из категории "информационная безопасность" на Хабре
- Отправляет статьи в формате: заголовок, краткое описание и ссылка на оригинал
- Предотвращает дублирование статей с помощью отслеживания GUID
- Автоматически очищает старые статьи из памяти (через 24 часа)
- Поддерживает команды:
  - `/start` - приветственное сообщение
  - `/help` - справка по командам
  - `/infosec` или `/security` - последние статьи по информационной безопасности

## Установка и запуск

1. Установите Go (версия 1.21 или выше)

2. Скачайте зависимости:
```bash
go mod tidy
```

3. Создайте Telegram-бота у [@BotFather](https://t.me/BotFather) и получите токен

4. Запустите бота:
```bash
TELEGRAM_BOT_TOKEN=ваш_токен_бота go run main.go
```

## Использование

1. Найдите созданного бота в Telegram
2. Отправьте команду `/start`
3. Используйте команду `/infosec` или `/security`, чтобы получить последние статьи по информационной безопасности

## Технические улучшения

- **Потокобезопасность**: Использование мьютексов для защиты разделяемых данных при многопоточной обработке сообщений
- **Управление памятью**: Автоматическая очистка старых статей из памяти каждые час для предотвращения утечек памяти
- **Улучшенная обработка ошибок**: Более надежная обработка ошибок при отправке сообщений в Telegram
- **Надежность**: Продолжение работы при ошибках отдельных операций, а не полный сбой
- **Таймауты**: Добавлен HTTP-клиент с таймаутами для надежной работы с RSS-каналами
- **Безопасность**: Правильное экранирование HTML-символов в сообщениях

## Структура проекта

- `main.go` - основной файл с логикой бота
- `go.mod` - файл зависимостей Go
- `go.sum` - контрольные суммы зависимостей
- `run.sh` - скрипт для запуска бота
- `.env.example` - пример файла с переменными окружения

## Технические детали

- Использует RSS-ленту Хабра: `https://habr.com/ru/rss/hub/infosecurity/all/?fl=ru`
- Для парсинга RSS используется библиотека `gofeed`
- Для взаимодействия с Telegram API используется `go-telegram-bot-api`
- Реализовано ограничение частоты запросов и дедупликация статей
- Статьи автоматически удаляются из памяти через 24 часа после добавления